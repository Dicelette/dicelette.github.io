(self.webpackChunkdicelette_docs=self.webpackChunkdicelette_docs||[]).push([[50],{6034:(e,s,t)=>{"use strict";t.r(s),t.d(s,{assets:()=>J,contentTitle:()=>G,default:()=>Q,frontMatter:()=>U,metadata:()=>K,toc:()=>W});var a=t(13274),r=t(99128),l=t(60050),i=t(46675),n=t(50752),c=t(96728),o=t(19567),m=t(95490),u=t(33968),d=t(71590);const x=e=>{let{len:s,type:t,onClick:r}=e;const i="dice"===t?25:20,n="dice"===t?(0,o.T)({message:"Ajouter un d\xe9"}):(0,o.T)({message:"Ajouter une statistique"}),c="dice"===t?(0,o.T)({message:"d\xe9s (max 25)"}):(0,o.T)({message:"statistiques (max 20)"}),m=`${(0,o.T)({message:"Vous avez atteint le nombre maximum de"})} ${c}`;return(0,a.jsx)(l.A,{title:s>i?m:n,arrow:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(u.A,{onClick:r,size:"small",className:"manage-button",disabled:s>i,children:(0,a.jsx)(d.In,{icon:"fluent:add-circle-12-regular",height:"20"})})})})};var p=t(67924),g=t(22682);const h=e=>{let{className:s,label:t,name:r}=e;return(0,a.jsx)(n.D0,{name:r,children:e=>{let{field:r}=e;return(0,a.jsx)(p.A,{className:s,control:(0,a.jsx)(g.A,{"aria-label":r.name,onChange:r.onChange,checked:r.checked,name:r.name,value:r.value}),labelPlacement:"start",label:t})}})},b=e=>{let{length:s,type:t,children:r,label:l,onAdd:i}=e;return(0,a.jsxs)("section",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:"text-lg font-bold mb-2",children:[l,i&&(0,a.jsx)(x,{len:s,type:t,onClick:i})]}),r]})};var f=t(33608);const j=e=>(0,a.jsx)(n.D0,{name:e.name,children:s=>{let{field:t,form:{errors:r}}=s;return(0,a.jsx)(f.A,{...e,value:t.value,onChange:e.onChange??t.onChange,onBlur:t.onBlur,autoFocus:e.autoFocus,className:`2xl:w-[200px] !mb-0 min-[0px]:max-2xl:w-full ${e.className}`,error:void 0!==r[t.name],label:e.label,size:"small",name:t.name,type:e.type,typeof:e.type})}}),v=e=>(0,a.jsx)(n.D0,{name:e.name,children:s=>{let{field:t,form:{errors:r}}=s;return(0,a.jsx)(f.A,{...e,value:t.value,onChange:e.onChange??t.onChange,onBlur:t.onBlur,autoFocus:e.autoFocus,className:`!mb-4 w-[400px] min-[0px]:max-xl:w-full ${e.className}`,error:void 0!==r[t.name],label:e.label,size:"small",name:t.name,type:e.type,typeof:e.type,inputProps:e.inputProps})}});function T(e,s){return e.failure===e.success||"failure"===s&&e.failure<0||"success"===s&&e.success<0?"error":""}const y=e=>{let{critical:s}=e;return(0,a.jsxs)(b,{label:"Critique",children:[(0,a.jsx)(v,{label:(0,o.T)({message:"Succ\xe8s"}),name:"critical.success",type:"number",id:"critical",className:`success ${T(s,"success")}`,inputProps:{min:0}}),(0,a.jsx)(v,{label:(0,o.T)({message:"\xc9chec"}),name:"critical.failure",type:"number",id:"critical",className:`failure ${T(s,"failure")}`,inputProps:{min:0}}),(t=s,t.failure===t.success?(0,a.jsx)(m.m_,{id:"critical",anchorSelect:"#critical",content:(0,o.T)({message:"Les deux valeurs ne peuvent \xeatre identiques"}),style:{background:"var(--rt-color-error)"}}):t.failure<0?(0,a.jsx)(m.m_,{id:"critical",anchorSelect:".failure",content:(0,o.T)({message:"La valeur ne peut pas \xeatre inf\xe9rieure \xe0 0"}),style:{background:"var(--rt-color-error)"}}):t.success<0?(0,a.jsx)(m.m_,{id:"critical",anchorSelect:".success",content:(0,o.T)({message:"La valeur ne peut pas \xeatre inf\xe9rieure \xe0 0"}),style:{background:"var(--rt-color-error)"}}):void 0)]});var t};var N=t(79474),k=t(14230),w=t(52352);const $=e=>{let{onClick:s,size:t,maxLen:r,length:i}=e;const n=1280===t?"xl":"2xl";return(0,a.jsx)(l.A,{title:(0,o.T)({message:"Dupliquer ce champ"}),classes:{popper:i>r?"error-copy":"copy-tooltip"},arrow:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(u.A,{onClick:s,size:"small",className:`manage-button !p-px relative top-2.5 min-[0px]:max-${n}:w-full`,"aria-label":(0,o.T)({message:"Dupliquer ce champ"}),title:(0,o.T)({message:"Dupliquer ce champ"}),disabled:i>r,children:(0,a.jsx)(d.In,{icon:"system-uicons:duplicate",height:"24",className:"copy-button"})})})})},C=e=>{let{onClick:s,size:t}=e;const r=1280===t?"xl":"2xl";return(0,a.jsxs)(i.A,{onClick:s,className:`!p-1 relative ${r}:top-2.5 min-[0px]:max-${r}:w-full copy-button`,variant:"outlined",size:"medium","aria-label":(0,o.T)({message:"Dupliquer ce champ"}),title:(0,o.T)({message:"Dupliquer ce champ"}),children:[(0,a.jsx)(d.In,{icon:"system-uicons:duplicate",height:"24",className:"copy-button text-button"}),(0,o.T)({message:"Dupliquer"})]})},S=e=>{let{onClick:s,size:t,maxLen:r,length:l}=e;const i=(0,k.A)();return(0,w.A)(i.breakpoints.down(t))?(0,a.jsx)(C,{onClick:s,size:t}):(0,a.jsx)($,{length:l,maxLen:r,onClick:s,size:t})},A=e=>{let{onClick:s,size:t}=e;const r=1280===t?"xl":"2xl";return(0,a.jsx)(l.A,{title:(0,o.T)({message:"Supprimer ce champ"}),classes:{popper:"remove"},arrow:!0,children:(0,a.jsx)(u.A,{onClick:s,size:"small",className:`manage-button !p-px relative top-2.5 min-[0px]:max-${r}:w-full`,"aria-label":(0,o.T)({message:"Supprimer ce champ"}),title:(0,o.T)({message:"Supprimer ce champ"}),children:(0,a.jsx)(d.In,{icon:"lucide:delete",height:"24",className:"delete-button"})})})},L=e=>{let{onClick:s,size:t}=e;const r=1280===t?"xl":"2xl";return(0,a.jsxs)(i.A,{onClick:s,className:`!p-1 relative ${r}:top-2.5 min-[0px]:max-${r}:w-full delete-button`,variant:"outlined",size:"medium","aria-label":(0,o.T)({message:"Supprimer ce champ"}),title:(0,o.T)({message:"Supprimer ce champ"}),children:[(0,a.jsx)(d.In,{icon:"lucide:delete",height:"24",className:"delete-button text-button"}),(0,o.T)({message:"Supprimer"})]})},z=e=>{let{onClick:s,size:t}=e;const r=(0,k.A)();return(0,w.A)(r.breakpoints.down(t))?(0,a.jsx)(L,{onClick:s,size:t}):(0,a.jsx)(A,{onClick:s,size:t})},D=e=>{let{values:s}=e;const[t,r]=(0,N.useState)([]);(0,N.useEffect)((()=>{(()=>{const e=[];s.damages.forEach(((t,a)=>{const r=s.damages.findIndex(((e,s)=>s!==a&&e.name===t.name));-1===r||e.includes(a)||(e.push(a),e.push(r))})),r(e)})()}),[s.damages]);const l=e=>t.includes(e)?(0,a.jsx)(m.m_,{id:`Dice-Nom-${e}`,content:(0,o.T)({message:"Ce nom est d\xe9j\xe0 utilis\xe9"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Dice-Nom-${e}`}):0===s.damages[e].name.length?(0,a.jsx)(m.m_,{id:`Dice-Nom-${e}`,content:(0,o.T)({message:"Le nom ne peut pas \xeatre vide"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Dice-Nom-${e}`}):null;return(0,a.jsx)("div",{className:"statistic",children:(0,a.jsx)(n.ED,{name:"damages",children:e=>{let{push:r,remove:i}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(b,{length:s.damages.length,type:"dice",label:(0,o.T)({message:"D\xe9s"}),onAdd:()=>r({name:"",value:""}),children:""}),(0,a.jsx)("table",{className:"w-full",children:(0,a.jsx)("tbody",{className:"divide-y block w-full",children:s.damages.map(((e,c)=>(0,a.jsxs)("tr",{className:`flex flex-col xl:flex-row items-start xl:w-full ${t.includes(c)?"error-bg":""} ${0===c?"border-t-0":""}`,children:[(0,a.jsx)("td",{className:"p-px min-[0px]:max-2xl:p-2 table-cell min-[0px]:max-xl:w-full",children:(0,a.jsx)(S,{maxLen:25,length:s.damages.length,size:1280,onClick:()=>{r({name:"",value:s.damages[c].value})}})}),(0,a.jsxs)("td",{className:"p-2 min-[0px]:max-xl:w-full",children:[(0,a.jsx)(j,{name:`damages[${c}].name`,label:(0,o.T)({message:"Nom"}),className:""+(0===s.damages[c].name.length?"error":""),id:`Dice-Nom-${c}`}),(0,a.jsx)(n.Kw,{name:`damages[${c}].name`})]}),(0,a.jsx)("td",{className:"p-2 min-[0px]:max-xl:w-full",children:(0,a.jsx)(j,{name:`damages[${c}].value`,label:(0,o.T)({message:"Valeur"}),className:""+(0===s.damages[c].name.length?"error":""),id:`Value-${c}`})}),l(c),0===s.damages[c].name.length&&(0,a.jsx)(m.m_,{id:`Value-${c}`,content:(0,o.T)({message:"La valeur ne peut pas \xeatre vide"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Value-${c}`}),(0,a.jsx)("td",{className:"p-px min-[0px]:max-2xl:p-2 table-cell min-[0px]:max-xl:w-full",children:(0,a.jsx)(z,{size:1280,onClick:()=>i(c)})})]},c)))})})]})}})})},M=()=>(0,a.jsxs)(b,{label:"G\xe9n\xe9ral",children:[(0,a.jsx)(h,{className:"self-start !ml-0 -mt-2 mb-6",label:(0,o.T)({message:"Rendre obligatoire le nom du personnage"}),name:"isCharNameRequired"}),(0,a.jsx)(v,{label:(0,o.T)({message:"Total"}),name:"total",id:"total",type:"number",inputProps:{min:0}}),(0,a.jsx)(v,{label:(0,o.T)({message:"D\xe9 principal"}),name:"diceType"})]});var _=t(65640);const q=e=>{let{values:s}=e;const[t,r]=(0,N.useState)([]);(0,N.useEffect)((()=>{(()=>{const e=[];s.statistics.forEach(((t,a)=>{const r=s.statistics.findIndex(((e,s)=>s!==a&&e.name===t.name));-1===r||e.includes(a)||(e.push(a),e.push(r))})),r(e)})()}),[s.statistics]);const l=e=>{if(s.statistics[e].min)return s.statistics[e].min&&s.statistics[e].max&&s.statistics[e].min>s.statistics[e].max?(0,a.jsx)(m.m_,{id:`Min-${e}`,content:(0,o.T)({message:"La valeur minimale ne peut pas \xeatre sup\xe9rieure \xe0 la valeur maximale"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Min-${e}`}):s.statistics[e].min<0?(0,a.jsx)(m.m_,{id:`Min-${e}`,content:(0,o.T)({message:"La valeur minimale ne peut pas \xeatre n\xe9gative"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Min-${e}`}):isNaN(parseInt(s.statistics[e].min,10))?(0,a.jsx)(m.m_,{id:`Min-${e}`,content:(0,o.T)({message:"La valeur minimale doit \xeatre un nombre"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Min-${e}`}):null},i=e=>{if(s.statistics[e].max)return s.statistics[e].min&&s.statistics[e].max&&s.statistics[e].min>s.statistics[e].max?(0,a.jsx)(m.m_,{id:`Max-${e}`,content:(0,o.T)({message:"La valeur maximale ne peut pas \xeatre inf\xe9rieure \xe0 la valeur minimale"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Max-${e}`}):s.statistics[e].max<0?(0,a.jsx)(m.m_,{id:`Max-${e}`,content:(0,o.T)({message:"La valeur maximale ne peut pas \xeatre n\xe9gative"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Max-${e}`}):isNaN(parseInt(s.statistics[e].max,10))?(0,a.jsx)(m.m_,{id:`Max-${e}`,content:(0,o.T)({message:"La valeur maximale doit \xeatre un nombre"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Max-${e}`}):null},c=e=>{if(s.statistics[e].min)return _.log(s.statistics[e].min,s.statistics[e].max),s.statistics[e].min&&s.statistics[e].max&&s.statistics[e].min>s.statistics[e].max||s.statistics[e].min<0||isNaN(parseInt(s.statistics[e].min,10))?"error":""},u=e=>{if(s.statistics[e].max)return s.statistics[e].min&&s.statistics[e].max&&s.statistics[e].min>s.statistics[e].max||s.statistics[e].max<0||isNaN(parseInt(s.statistics[e].max,10))?"error":""},d=e=>{if(0===s.statistics[e].name.length)return"error"};return(0,a.jsx)("div",{className:"statistic",children:(0,a.jsx)(n.ED,{name:"statistics",children:e=>{let{push:r,remove:x}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(b,{type:"stats",length:s.statistics.length,label:(0,o.T)({message:"Statistiques"}),onAdd:()=>r({name:"",values:{min:0,max:0,combinaison:""}}),children:""}),(0,a.jsx)("table",{className:"w-full",children:(0,a.jsx)("tbody",{className:"divide-y block w-full",children:s.statistics.map(((e,p)=>{return(0,a.jsxs)("tr",{className:`\n\t\t\t\t\t\t\t\t\t\tflex flex-col 2xl:flex-row items-start 2xl:w-full ${0===p?"border-t-0":""}  ${t.includes(p)?"error-bg":""} 2xl:h-18`,children:[(0,a.jsx)("td",{className:"p-px min-[0px]:max-2xl:p-2 table-cell min-[0px]:max-2xl:w-full",children:(0,a.jsx)(S,{size:1536,length:s.statistics.length,maxLen:20,onClick:()=>{r({name:"",values:s.statistics[p].values})}})}),(0,a.jsxs)("td",{className:"p-2 min-[0px]:max-2xl:w-full",children:[(0,a.jsx)(j,{label:(0,o.T)({message:"Nom"}),name:`statistics[${p}].name`,id:`Stats-Nom-${p}`,className:`${d(p)}`,"data-tooltip-variant":"error"}),(0,a.jsx)(n.Kw,{name:`statistics[${p}].name`}),(g=p,0===s.statistics[g].name.length?(0,a.jsx)(m.m_,{id:`Stats-Nom-${g}`,content:(0,o.T)({message:"Le nom ne peut pas \xeatre vide"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Stats-Nom-${g}`}):t.includes(g)?(0,a.jsx)(m.m_,{id:`Stats-Nom-${g}`,content:(0,o.T)({message:"Ce nom est d\xe9j\xe0 utilis\xe9"}),style:{background:"var(--rt-color-error)"},anchorSelect:`#Stats-Nom-${g}`}):null)]}),(0,a.jsxs)("td",{className:"p-2 min-[0px]:max-2xl:w-full",children:[(0,a.jsx)(j,{type:"number",inputProps:{min:0},name:`statistics[${p}].min`,label:(0,o.T)({message:"Min"}),className:`2xl:w-[100px] ${c(p)}`,id:`Min-${p}`,"data-tooltip-variant":"error",disabled:!!s.statistics[p].combinaison}),l(p)]}),(0,a.jsxs)("td",{className:"p-2 min-[0px]:max-2xl:w-full",children:[(0,a.jsx)(j,{type:"number",inputProps:{min:0},name:`statistics[${p}].max`,label:(0,o.T)({message:"Max"}),id:`Max-${p}`,className:`2xl:w-[100px] ${u(p)}`,disabled:!!s.statistics[p].combinaison}),i(p)]}),(0,a.jsx)("td",{className:"p-2 min-[0px]:max-2xl:w-full ",children:(0,a.jsx)(j,{label:(0,o.T)({message:"Combinaison"}),name:`statistics[${p}].combinaison`,disabled:!(!s.statistics[p].min&&!s.statistics[p].max)})}),(0,a.jsx)("td",{className:"p-px min-[0px]:max-2xl:p-2 table-cell min-[0px]:max-2xl:w-full ",children:(0,a.jsx)(z,{size:1536,onClick:()=>x(p)})})]},p);var g}))})})]})}})})};function B(e){switch(e){case"error.emptyObject":return(0,o.T)({message:"L'objet {{x}} est vide"});case"common.space":return(0,o.T)({message:" "});case"error.invalidDice.withoutDice":case"error.invalidDice":return(0,o.T)({message:'Le d\xe9 "{{x}}" est invalide.'});case"error.invalidFormula":return(0,o.T)({message:'La formule "{{x}}" est invalide.'});case"error.maxGreater":return(0,o.T)({message:"Le maximum est sup\xe9rieur au minimum"});case"error.tooManyDice":return(0,o.T)({message:"Trop de d\xe9s (max : 25)"});case"error.noStat":return(0,o.T)({message:"Aucune statistique n'a \xe9t\xe9 trouv\xe9e"})}}var E=t(64061),I=t(44060),R=t.n(I),P=t(50405),V=t.n(P),F=t(65640);const O=()=>{const e=e=>{let s={},t={};for(const l of e.statistics)s[l.name]={combinaison:l.combinaison,max:l.max,min:l.min};for(const l of e.damages)t[l.name]=l.value;0===Object.keys(s).length&&(s=void 0),0===Object.keys(t).length&&(t=void 0);const a={charName:e.isCharNameRequired,critical:e.critical,diceType:e.diceType,total:e.total,statistics:s,damage:t};try{const e=(0,c.Ff)(a);F.log(e);const s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download="statisticalTemplate.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}catch(r){F.log(r);const e=function(e){const s=e.message,t=s.match(/\[(.*)\]/gi);let a="";if(s.startsWith("Expected"))return(0,o.T)({message:"Erreur dans le d\xe9 : "})+s.replace("Expected",(0,o.T)({message:"Attendant"})).replace("but",(0,o.T)({message:"mais"})).replaceAll(/\bor/gm,(0,o.T)({message:"ou"})).replace("found",(0,o.T)({message:"trouv\xe9"}));if(t){const e=t[0].replace("[","").replace("]","").split(",");for(const s of e)a+=B(s.trim());const r=s.replace(/\[(.*)\]/gi,"");return a.length>0?a.replaceAll("{{x}}",r.replace(":","").trim()):r}return s}(r);V()(R()).fire({html:e,icon:"error",showCloseButton:!0,backdrop:!0,showConfirmButton:!1,customClass:{confirmButton:"hide",popup:["error","swal2-toast"],htmlContainer:["error","swal2-toast"],closeButton:"error"}})}},s=e=>(()=>{if(!(0,E.A)())return!1;const e=document.getElementsByClassName("error"),s=document.getElementsByClassName("error-bg");return e.length>0||s.length>0})()?(0,a.jsx)(l.A,{title:(0,o.T)({message:"Veuillez corriger les erreurs"}),classes:{popper:"error"},arrow:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(i.A,{type:"submit",disabled:!0,variant:"outlined",size:"medium",id:"disabledButton",className:"download-button",children:(0,o.T)({message:"T\xe9l\xe9charger le mod\xe8le"})})})}):(0,a.jsx)(i.A,{type:"submit",disabled:e,variant:"outlined",size:"medium",className:"download-button",children:(0,o.T)({message:"T\xe9l\xe9charger le mod\xe8le"})});return(0,a.jsx)(n.l1,{initialValues:{isCharNameRequired:!1,statistics:[],total:0,diceType:"",critical:{success:20,failure:1},damages:[]},onSubmit:(s,t)=>{let{setSubmitting:a}=t;setTimeout((()=>{e(s),a(!1)}),400)},children:e=>{let{isSubmitting:t,values:r}=e;return(0,a.jsxs)(n.lV,{children:[(0,a.jsx)(M,{}),(0,a.jsx)(y,{critical:r.critical}),(0,a.jsx)(q,{values:r}),(0,a.jsx)(D,{values:r}),s(t)]})}})},U={sidebar_label:"Model creation generator",title:"Template creation generator"},G=void 0,K={id:"model/register/form",title:"Template creation generator",description:"The following form will help you create a configuration file template for your server. The verification procedures are the same as for the bot, so if you have any errors, you can correct them here rather than manually.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/model/register/form.mdx",sourceDirName:"model/register",slug:"/model/register/form",permalink:"/en/docs/model/register/form",draft:!1,unlisted:!1,editUrl:"https://github.com/Dicelette/docs/tree/main/docs/model/register/form.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Model creation generator",title:"Template creation generator"},sidebar:"model",previous:{title:"Reference's server model",permalink:"/en/docs/model/register/template"},next:{title:"Limitation",permalink:"/en/docs/model/register/limitation"}},J={},W=[];function H(e){const s={p:"p",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.p,{children:'The following form will help you create a configuration file template for your server. The verification procedures are the same as for the bot, so if you have any errors, you can correct them here rather than manually.\nThen simply click on "Download template" to obtain a ready-to-use configuration file.'}),"\n",(0,a.jsx)(O,{})]})}function Q(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(H,{...e})}):H(e)}},34654:()=>{},34149:()=>{},89780:()=>{},99926:()=>{},90124:()=>{},71220:()=>{},38854:()=>{},85222:()=>{}}]);