"use strict";(self.webpackChunkdicelette_docs=self.webpackChunkdicelette_docs||[]).push([[6361],{86076:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"introduction/expression","title":"Notations des d\xe9s","description":"Le bot utilise la biblioth\xe8que de dice roller pour les jets de d\xe9s, et supporte la syntaxe de ce dernier.","source":"@site/docs/introduction/expression.mdx","sourceDirName":"introduction","slug":"/introduction/expression","permalink":"/docs/introduction/expression","draft":false,"unlisted":false,"editUrl":"https://github.com/Dicelette/dicelette.github.io/tree/main/docs/introduction/expression.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Notations des d\xe9s","sidebar_position":4},"sidebar":"introduction","previous":{"title":"Syntaxe","permalink":"/docs/introduction/format"},"next":{"title":"Glossaire","permalink":"/docs/introduction/glossary"}}');var l=n(74848),d=n(28453),r=n(31589);const t={title:"Notations des d\xe9s",sidebar_position:4},c=void 0,o={},a=[{value:"Diff\xe9rence avec Dice Roller",id:"diff\xe9rence-avec-dice-roller",level:2},{value:"Syntaxe \xe9tendue pour les commentaires",id:"syntaxe-\xe9tendue-pour-les-commentaires",level:3},{value:"Les comparateurs",id:"les-comparateurs",level:3},{value:"Succ\xe8s et \xe9checs critiques",id:"succ\xe8s-et-\xe9checs-critiques",level:3},{value:"Expressions Math\xe9matiques avec MathJS",id:"expressions-math\xe9matiques-avec-mathjs",level:2},{value:"Exemples d&#39;Expressions Math\xe9matiques",id:"exemples-dexpressions-math\xe9matiques",level:3},{value:"Jets Uniques Partag\xe9s (R\xe9utilisation de R\xe9sultats)",id:"jets-uniques-partag\xe9s-r\xe9utilisation-de-r\xe9sultats",level:2},{value:"Lancers en Masse (Bulk Rolls)",id:"lancers-en-masse-bulk-rolls",level:2}];function u(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.p,{children:["Le bot utilise la biblioth\xe8que de ",(0,l.jsx)(s.a,{href:"https://dice-roller.github.io/documentation/",children:"dice roller"}),(0,l.jsx)(s.sup,{children:(0,l.jsx)(s.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})," pour les jets de d\xe9s, et supporte la syntaxe de ce dernier.\nIl existe cependant quelques diff\xe9rences, car Dicelette veut \xeatre plus flexible et indiquer les r\xe9sultats des jets de d\xe9s de mani\xe8re plus lisible."]}),"\n",(0,l.jsx)(s.h2,{id:"diff\xe9rence-avec-dice-roller",children:"Diff\xe9rence avec Dice Roller"}),"\n",(0,l.jsx)(s.h3,{id:"syntaxe-\xe9tendue-pour-les-commentaires",children:"Syntaxe \xe9tendue pour les commentaires"}),"\n",(0,l.jsxs)(s.p,{children:["Dicelette \xe9tend la syntaxe de Dice Roller en s'inspirant de celle de ",(0,l.jsx)(s.a,{href:"https://invent.kde.org/rolisteam/rolisteam-diceparser/-/blob/master/HelpMe.md#comment",children:"Dice Parser"})," :"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["L'utilisation de ",(0,l.jsx)(s.code,{children:"# commentaire"})," en plus de la syntaxe de base pour les commentaires."]}),"\n",(0,l.jsxs)(s.li,{children:["La possibilit\xe9 d'utiliser ",(0,l.jsx)(s.code,{children:"[commentaire]"})," pour commenter un jet de d\xe9s partag\xe9, ce qui permet de donner un contexte \xe0 chaque ligne de r\xe9sultat."]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"les-comparateurs",children:"Les comparateurs"}),"\n",(0,l.jsxs)(s.p,{children:["Par d\xe9faut, en pr\xe9sence d'un signe de comparaison (",(0,l.jsx)(s.code,{children:">"}),", ",(0,l.jsx)(s.code,{children:"<"}),", ",(0,l.jsx)(s.code,{children:"="}),", etc.), le bot consid\xe9rera le total et la valeur compar\xe9e (tout en faisant un jet et/ou calcul si n\xe9cessaire) et indiquera si le jet est un \xe9chec ou un succ\xe8s :"]}),"\n",(0,l.jsx)(s.admonition,{type:"roll",children:(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.strong,{children:"Succ\xe8s"})," \u2014 ",(0,l.jsx)(s.code,{children:"1d20"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[20]"})," = ",(0,l.jsx)(s.code,{children:"[20] > 10"})]})}),"\n",(0,l.jsxs)(s.p,{children:["Cependant, certains syst\xe8mes n\xe9cessitent de ",(0,l.jsx)(s.strong,{children:"compter"})," le nombre de jets au-dessus (ou en-dessous) d'une valeur, plut\xf4t que de comparer le r\xe9sultat total.\nAfin de pouvoir maintenir la compatibilit\xe9 entre Dicelette et Dice Roller, le jet doit se trouver entre accolades ",(0,l.jsx)(s.code,{children:"{}"}),", tel que : ",(0,l.jsx)(s.code,{children:"{3d12>20}"}),"."]}),"\n",(0,l.jsx)(s.admonition,{type:"roll",children:(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.code,{children:"{3d12>20} \u27f6 {[11, 9, 7]} =  [0] "})]})}),"\n",(0,l.jsxs)(s.p,{children:["Dans ces cas particuliers, le bot n'affichera pas le texte de succ\xe8s, \xe9chec, ou critique, et en fait de m\xeame lors de l'utilisation des ",(0,l.jsx)(s.a,{href:"https://dice-roller.github.io/documentation/guide/notation/group-rolls.html#target-failure-dice-pool",children:"target failure"}),"."]}),"\n",(0,l.jsx)(s.admonition,{type:"note",children:(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"{1d3}>20"})," donnera le m\xeame r\xe9sultat que ",(0,l.jsx)(s.code,{children:"1d3>20"})]}),"\n",(0,l.jsxs)(s.li,{children:["Mais ",(0,l.jsx)(s.strong,{children:"pas"})," ",(0,l.jsx)(s.code,{children:"{1d3,1d6}>20"}),", qui conserve la syntaxe par d\xe9faut de Dice Roller. Pour obtenir la comparaison entre le total et une valeur, il faut utiliser ",(0,l.jsx)(s.code,{children:"1d3+1d6>20"}),"."]}),"\n"]})}),"\n",(0,l.jsx)(s.admonition,{type:"tldr",children:(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Si vous souhaitez compter le nombre de d\xe9s qui passe une comparaison, il faut mettre le d\xe9 et le comparateur entre accolades ",(0,l.jsx)(s.code,{children:"{}"}),"."]}),"\n",(0,l.jsx)(s.li,{children:"Si vous souhaitez utiliser les targets failures, il faut conserver la syntaxe de Dice Roller."}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"succ\xe8s-et-\xe9checs-critiques",children:"Succ\xe8s et \xe9checs critiques"}),"\n",(0,l.jsx)(s.p,{children:"Il est possible de d\xe9finir des seuils de r\xe9ussite et d'\xe9chec critiques pour les jets de d\xe9s, en utilisant la syntaxe suivante :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(r.CL,{children:"\xc9chec critique"})," : ",(0,l.jsx)(s.code,{children:"{cf:[signe](valeur)}"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(r.CL,{children:"Succ\xe8s critique"})," : ",(0,l.jsx)(s.code,{children:"{cs:[signe](valeur)}"})]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Cette expression peut \xeatre plac\xe9e n'importe o\xf9 dans le jet de d\xe9s, sauf apr\xe8s le commentaire, et doit \xeatre obligatoirement ",(0,l.jsx)(s.strong,{children:"coll\xe9"})," au d\xe9 (sans espace entre le d\xe9 et l'expression)."]}),"\n",(0,l.jsx)(s.p,{children:"O\xf9 :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"signe"})," est le signe de comparaison (",(0,l.jsx)(s.code,{children:">"}),", ",(0,l.jsx)(s.code,{children:"<"}),", ",(0,l.jsx)(s.code,{children:"="}),", etc.)."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"valeur"})," est une valeur, un d\xe9, une expression math\xe9matique, ou une statistique (\xe0 l'instar des ",(0,l.jsx)(s.a,{href:"/docs/sheet/model/critics#critiques-personnalis%C3%A9es",children:"critiques personnalis\xe9s"}),")."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"*"})," (optionnel) permet de comparer uniquement sur le ",(0,l.jsx)(s.strong,{children:"d\xe9 naturel"})," (le premier jet de d\xe9s), et non sur le total."]}),"\n"]}),"\n",(0,l.jsx)(s.admonition,{type:"roll",children:(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.strong,{children:"\xc9chec critique"})," \u2014 ",(0,l.jsx)(s.code,{children:"1d20>=20{cf:>10}"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[20]"})," = ",(0,l.jsx)(s.code,{children:"20 > 10"})]})}),"\n",(0,l.jsx)(s.admonition,{type:"roll",children:(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.strong,{children:"Succ\xe8s critique"})," \u2014 ",(0,l.jsx)(s.code,{children:"{cs:<2}1d20<=1"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[1]"})," = ",(0,l.jsx)(s.code,{children:"1 < 2"})]})}),"\n",(0,l.jsx)(s.admonition,{type:"tip",children:(0,l.jsxs)(s.p,{children:["La formule compl\xe8te d'analyse est la suivante : ",(0,l.jsx)(s.code,{children:"{c[f|s]:[>=<!]+(texte)}"})]})}),"\n",(0,l.jsx)(s.admonition,{title:" Cette m\xe9thode n'est pas compatible avec les exceptions mentionn\xe9es dans la section pr\xe9c\xe9dente.",type:"warning"}),"\n",(0,l.jsx)(s.h2,{id:"expressions-math\xe9matiques-avec-mathjs",children:"Expressions Math\xe9matiques avec MathJS"}),"\n",(0,l.jsxs)(s.p,{children:["Le bot utilise la biblioth\xe8que ",(0,l.jsx)(s.a,{href:"https://mathjs.org/",children:"mathjs"})," pour \xe9valuer les expressions math\xe9matiques. Vous pouvez utiliser des expressions math\xe9matiques complexes lorsqu'elles sont entre ",(0,l.jsx)(s.code,{children:"{{"})," et ",(0,l.jsx)(s.code,{children:"}}"}),"."]}),"\n",(0,l.jsx)(s.p,{children:"Il est possible d'utiliser, selon les commandes :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"$"})," : Symbolise la valeur de la statistique utilis\xe9e."]}),"\n",(0,l.jsx)(s.li,{children:"Le nom d'une statistique (qui sera remplac\xe9e par sa valeur)."}),"\n",(0,l.jsxs)(s.li,{children:["Des combinaisons de d\xe9s (comme ",(0,l.jsx)(s.code,{children:"1d6"}),")."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"{exp}"})," : Cette syntaxe permet d'ins\xe9rer directement une expression dans le d\xe9, en reprenant la partie calcul\xe9e de la commande. Il est possible d'indiquer une valeur par d\xe9faut en utilisant la syntaxe ",(0,l.jsx)(s.code,{children:"{exp||default}"})," (comme ",(0,l.jsx)(s.code,{children:"{exp||2}"}),"). Dans le cas contraire, la valeur par d\xe9faut sera ",(0,l.jsx)(s.code,{children:"1"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Les expressions sont g\xe9n\xe9ralement utilis\xe9es dans :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(r.CL,{children:"seuil_reussite"})," : Seuil de r\xe9ussite pour les jets de d\xe9s pour la commande ",(0,l.jsx)(s.a,{href:"/docs/usage/model/dice#dbroll-dbroll",children:(0,l.jsx)(s.code,{children:"/dbroll"})}),"."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(r.CL,{children:"expression"})," : Pour les commandes ",(0,l.jsx)(s.a,{href:"/docs/usage/model/calc#bas%C3%A9-sur-des-statistiques-calc",children:(0,l.jsx)(s.code,{children:"/calc"})}),", ",(0,l.jsx)(s.a,{href:"/docs/usage/model/dice#dbroll-dbroll",children:(0,l.jsx)(s.code,{children:"/dbroll"})})," et ",(0,l.jsx)(s.a,{href:"/docs/usage/model/dice#dbd-dbd",children:(0,l.jsx)(s.code,{children:"/dbd"})}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"exemples-dexpressions-math\xe9matiques",children:"Exemples d'Expressions Math\xe9matiques"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"1d6 + {{ceil($ / 2)}}"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"1d6 > {{ceil($ / 2)}}"})}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"jets-uniques-partag\xe9s-r\xe9utilisation-de-r\xe9sultats",children:"Jets Uniques Partag\xe9s (R\xe9utilisation de R\xe9sultats)"}),"\n",(0,l.jsxs)(s.p,{children:["Il est possible d'utiliser la syntaxe ",(0,l.jsx)(s.code,{children:"d\xe9;&+x;\xb5*y"})," pour lancer un seul d\xe9 et appliquer diff\xe9rentes formules sur ce m\xeame d\xe9, de fa\xe7on \xe0 afficher le r\xe9sultat de chaque formule. Le ",(0,l.jsx)(s.code,{children:"&"})," symbolise le r\xe9sultat du d\xe9."]}),"\n",(0,l.jsx)(s.admonition,{type:"warning",children:(0,l.jsx)(s.p,{children:"Vous devez obligatoirement ne pas avoir d'espace avant et apr\xe8s la s\xe9paration entre les formules, sinon le bot consid\xe9rera la suite comme des commentaires."})}),"\n",(0,l.jsxs)(s.admonition,{type:"example",children:[(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"/roll 1d20;&+5;&*2\n"})}),(0,l.jsx)(s.p,{children:"Affichera comme r\xe9sultat :"}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"  \u203b `1d20` \u27f6 `[10]` = ` 10 `\n  \u25c8 `[1d20]+5` \u27f6 `[10]+5` = ` 15 `\n  \u25c8 `[1d20]\xd72` \u27f6 `[10]\xd72` = ` 20 `\n"})})]}),"\n",(0,l.jsxs)(s.admonition,{type:"tip",children:[(0,l.jsx)(s.p,{children:"Il est possible d'utiliser des d\xe9s dans les formules, mais seul le premier d\xe9 sera sauvegard\xe9 et r\xe9utilis\xe9."}),(0,l.jsxs)(s.admonition,{type:"roll",children:[(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.code,{children:"1d20;&+1d4;&*2"})]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"  \u203b `1d20` \u27f6 `[7]` = ` 7 `\n  \u25c8 `[1d20]+1d4` \u27f6 `7+[1]` = ` 8 `\n  \u25c8 `[1d20]\xd72` \u27f6 `[7]\xd72` = ` 14 `\n"})})]})]}),"\n",(0,l.jsxs)(s.p,{children:["Pour commenter entre chaque jet, il faut utiliser la syntaxe ",(0,l.jsx)(s.code,{children:"[commentaire]"}),". Un commentaire global devra utiliser la syntaxe ",(0,l.jsx)(s.code,{children:"# commentaire"})," \xe0 la fin des d\xe9s."]}),"\n",(0,l.jsxs)(s.admonition,{type:"roll",children:[(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.code,{children:"1d20;&-2[perte pv]"})]}),(0,l.jsxs)(s.p,{children:["\u203b ",(0,l.jsx)(s.code,{children:"1d20"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[2]"})," = ",(0,l.jsx)(s.code,{children:"2"}),"\n\u25c8 ",(0,l.jsx)("u",{children:"perte pv"})," \u2014 ",(0,l.jsx)(s.code,{children:"[1d20]-2"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[2]-2"})," = ",(0,l.jsx)(s.code,{children:"0"})]})]}),"\n",(0,l.jsxs)(s.p,{children:["Enfin, il est possible de cacher le premier d\xe9 avec la syntaxe ",(0,l.jsx)(s.code,{children:"(d\xe9)"})," :"]}),"\n",(0,l.jsxs)(s.admonition,{type:"roll",children:[(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.code,{children:"(1d20);&>100;&+2"})]}),(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"\xc9chec"})," \u2014 ",(0,l.jsx)(s.code,{children:"[1d20]>100"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[12]>100"})," = ",(0,l.jsx)(s.code,{children:"12<100"}),"\n\u25c8 ",(0,l.jsx)(s.code,{children:"[1d20]+2"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[12]+2"})," = ",(0,l.jsx)(s.code,{children:"14"})]})]}),"\n",(0,l.jsx)(s.admonition,{title:"Il n'est pas possible d'utiliser les d\xe9s en masse dans cette syntaxe.",type:"danger"}),"\n",(0,l.jsx)(s.h2,{id:"lancers-en-masse-bulk-rolls",children:"Lancers en Masse (Bulk Rolls)"}),"\n",(0,l.jsxs)(s.p,{children:["Le bot prend \xe9galement en charge la notation ",(0,l.jsx)(s.code,{children:"x#(d\xe9s)"})," inspir\xe9 par ",(0,l.jsx)(s.a,{href:"https://rollem.rocks/docs/v1-syntax/bulk-rolling",children:"rollem"}),' pour les lancers "en masse" (bulk roll).']}),"\n",(0,l.jsxs)(s.admonition,{type:"roll",children:[(0,l.jsxs)(s.mdxAdmonitionTitle,{children:[" ",(0,l.jsx)(s.code,{children:"4#2d10"})]}),(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"2d10"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[2, 7]"})," = ",(0,l.jsx)(s.code,{children:"[9]"}),"\n",(0,l.jsx)(s.code,{children:"2d10"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[2, 8]"})," = ",(0,l.jsx)(s.code,{children:"[10]"}),"\n",(0,l.jsx)(s.code,{children:"2d10"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[4, 3]"})," = ",(0,l.jsx)(s.code,{children:"[7]"}),"\n",(0,l.jsx)(s.code,{children:"2d10"})," \u27f6 ",(0,l.jsx)(s.code,{children:"[8, 9]"})," = ",(0,l.jsx)(s.code,{children:"[17]"})]})]}),"\n","\n",(0,l.jsxs)(s.section,{"data-footnotes":!0,className:"footnotes",children:[(0,l.jsx)(s.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{id:"user-content-fn-1",children:["\n",(0,l.jsxs)(s.p,{children:["Dice Roller lui-m\xeame utilise ",(0,l.jsx)(s.a,{href:"https://www.npmjs.com/package/random-js",children:"random-js"})," pour la g\xe9n\xe9ration al\xe9atoire, et non pas ",(0,l.jsx)(s.code,{children:"math.random"})," qui est du pseudo-al\xe9atoire. Il n'est donc pas possible de tricher sur les r\xe9sultats des d\xe9s (\xe0 moins d'\xeatre un cryptomancien ou de voir l'avenir \u2026 Ou les deux.). ",(0,l.jsx)(s.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},31589:(e,s,n)=>{n.d(s,{CL:()=>l});var i=n(74848);function l(e){let{children:s,...n}=e;return(0,i.jsx)("span",{style:{textDecoration:"underline",fontWeight:"bold",...n.style||{}},...n,children:s})}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>t});var i=n(96540);const l={},d=i.createContext(l);function r(e){const s=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);